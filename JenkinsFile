pipeline {
    agent any
    environment {
      AWS_ACCESS_KEY = credentials('aws-access-key') // Jenkins stored credentials
      AWS_SECRET_KEY = credentials('aws-secret-key')
    }
        stages {
            stage(checkout) {
                steps {
                    checkoutSCM
                }
            }

            stage(tfinit) {
                steps {
                    bat 'terraform.exe init'
                }

            stage(tfapply) {
                steps {
                    bat 'terraform.exe plan'
                }
            }
            }
        }
}
